---
import SignLayout from "../layouts/SignLayout.astro";
const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
    return redirect("/dashboard");
}
---

<SignLayout>
    <div class="container">
        <div class="form-box">
            <h2>Нэвтрэх</h2>
            <p>Бүртгэлтэй нэрээр орно уу</p>
            <form action="/api/auth/signin" method="POST">
                <div class="form-group">
                    <label>Имэйл</label>
                    <input
                        type="email"
                        name="email"
                        placeholder="Имэйл хаяг "
                        required
                    />
                </div>
                <div class="form-group">
                    <label>Нууц үг</label>
                    <input
                        type="password"
                        name="password"
                        placeholder="Нууц үг"
                        required
                    />
                    <a href="/forgot-password" class="forgot"
                        >Нууц үгээ мартсан уу?</a
                    >
                </div>
                <button type="submit">Нэвтрэх</button>
            </form>
            <div class="extra">
                Бүртгэлгүй юу? <a href="/register">Бүртгүүлэх</a>
            </div>
        </div>
        <div class="side-box">
            <h1>
                <span>C</span>
                <span>A</span>
                <span>N</span>
                <span>E</span>
                <span>Y</span>
            </h1>
            <h1>
                <span>S</span>
                <span>c</span>
                <span>r</span>
                <span>i</span>
                <span>p</span>
                <span>t</span>
            </h1>
        </div>
    </div>
</SignLayout>
